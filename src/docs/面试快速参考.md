# 面试快速参考 - 核心问题速查

## 🎯 1. 灵活的埋点配置系统

### Q: 字段联动、动态组件渲染与校验规则注入怎么实现？
**核心回答：**
- 字段联动：使用 Form.Item 的 `dependencies` 属性
- 动态组件：根据 `paramsSchema` 配置动态渲染不同组件类型
- 校验规则：基于配置自动生成校验规则（required、type、pattern等）

### Q: 如何保证配置系统的性能？
**核心回答：**
- 组件拆分 + React.memo 优化渲染
- Zustand 状态管理减少 re-render
- Form.useWatch 替代 useState
- 前后端双重校验

---

## 🎯 2. 高性能数据可视化

### Q: 百万级数据下如何保持流畅？
**核心回答：**
- 后端数据聚合，前端不处理原始数据
- 虚拟滚动（react-window）
- 图表懒加载（React.lazy）
- 数据采样（超过1000点采样）
- 关闭动画，使用 Canvas 渲染

### Q: 可拖拽看板怎么实现？
**核心回答：**
- 使用 react-grid-layout
- 布局配置保存到 localStorage
- 组件注册机制，支持动态添加图表

---

## 🎯 3. AI智能总结功能

### Q: 统一数据聚合层怎么设计？
**核心回答：**
- 后端统一聚合服务（SummaryService）
- 前端并行请求多个项目数据
- 数据格式标准化，前端只负责展示

### Q: Prompt 构建和结构化输出？
**核心回答：**
- 基于数据动态构建 Prompt 模板
- 要求 AI 返回 Markdown 格式
- 使用 markdown-it 解析为 HTML
- 有降级方案（模板生成基础总结）

---

## 🎯 4. 工程化与可维护性

### Q: useRequest、useChart、useEventBus 怎么封装？
**核心回答：**
- **useRequest**：统一数据请求逻辑（loading、error、data）
- **useChart**：图表配置标准化，支持多种图表类型
- **useEventBus**：事件总线解耦组件通信

### Q: 模块化 SDK 怎么设计？
**核心回答：**
- 拆分为 TrackingModule、LoggingModule、MonitoringModule
- 公共逻辑抽离（BatchSender、StorageManager）
- 支持按需加载，减少体积

---

## 🎯 5. 数据链路治理

### Q: 完整数据链路怎么设计？
**核心回答：**
1. **前端采集**：SDK 采集事件
2. **数据校验**：前后端双重校验（格式、必填、类型）
3. **数据上报**：批量上报（50个/批，5秒/次）
4. **分析展示**：后端聚合，前端展示

### Q: 批量上报、节流、防抖怎么实现？
**核心回答：**
- **批量上报**：事件队列 + 定时刷新（50个/批，5秒/次）
- **节流**：限制函数执行频率（如滚动事件1秒/次）
- **防抖**：延迟执行，重新触发则重新计时（如搜索500ms）

---

## 💡 关键数据指标

- **SDK 性能**：HTTP 请求减少 98%，上报成功率 > 99.5%
- **可视化性能**：百万级数据滚动流畅（60fps），首屏 < 2s
- **图表性能**：10万数据点渲染 < 1s
- **批量上报**：50个事件/批，5秒刷新一次

---

## 🔥 技术亮点总结

1. **SDK 设计**：单例模式、批量发送、离线存储、自动重试
2. **性能优化**：虚拟滚动、数据采样、懒加载、Web Worker
3. **工程化**：Hook 封装、模块化设计、类型安全
4. **数据治理**：前后端校验、批量上报、节流防抖

---

## ⚠️ 常见追问

### Q: 如果数据量更大（千万级）怎么优化？
**回答：**
- 后端分页查询 + 流式处理
- 前端虚拟滚动 + 无限滚动
- 数据采样 + 降级展示
- Web Worker 处理数据

### Q: 如何保证 SDK 兼容性？
**回答：**
- Polyfill 支持旧浏览器
- 特性检测，降级方案
- 错误边界，不影响业务
- 版本管理，向后兼容

### Q: AI 服务不可用怎么办？
**回答：**
- 降级到模板生成基础总结
- 重试机制（指数退避）
- 缓存上次结果
- 用户友好的错误提示

---

## 📝 回答技巧

1. **STAR 法则**：Situation（背景）→ Task（任务）→ Action（行动）→ Result（结果）
2. **数据说话**：用具体数据证明效果
3. **展示思考**：说明为什么这样设计，遇到什么问题
4. **承认不足**：提出优化方向，显示持续学习能力

---

## 🎤 1分钟项目介绍模板

"我开发了一个数据分析平台，核心解决了数据统计分散、可视化不统一的问题。

**主要功能包括：**
1. **灵活的埋点配置系统**：支持事件、字段、触发条件的可视化配置，通过字段联动和动态组件渲染实现高度可扩展的动态表单。
2. **高性能数据可视化**：基于 ECharts + 虚拟滚动优化，在百万级数据下保持流畅，构建了可拖拽、可组合的看板布局。
3. **AI 智能总结**：基于业务指标自动生成多维度数据解读，前端负责数据聚合层、Prompt 构建和结构化输出解析。
4. **工程化优化**：封装了 useRequest、useChart 等通用 Hook，建立了模块化 SDK 并抽离公共逻辑。
5. **数据链路治理**：设计了完整的数据采集→校验→上报→分析链路，使用批量上报、节流、防抖等机制保证数据准确性和性能。

**核心成果：**
- SDK 上报成功率 > 99.5%，HTTP 请求减少 98%
- 百万级数据下表格滚动流畅，首屏加载 < 2s
- 建立了完整的前端工程化体系，代码可维护性大幅提升"

