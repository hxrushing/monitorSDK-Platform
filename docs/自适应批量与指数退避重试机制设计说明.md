# è‡ªé€‚åº”æ‰¹é‡ä¸æŒ‡æ•°é€€é¿é‡è¯•æœºåˆ¶è®¾è®¡è¯´æ˜

## ğŸ“‹ æ¦‚è¿°

æœ¬æ–‡æ¡£è¯¦ç»†è¯´æ˜ SDK ä¸­è‡ªé€‚åº”æ‰¹é‡ä¸ŠæŠ¥ç­–ç•¥å’ŒæŒ‡æ•°é€€é¿é‡è¯•ç®—æ³•çš„è®¾è®¡å®ç°ï¼ŒåŒ…æ‹¬å·¥ä½œåŸç†ã€ç®—æ³•ç»†èŠ‚ã€å®é™…æ•ˆæœå’Œæœ€ä½³å®è·µã€‚

---

## ä¸€ã€è‡ªé€‚åº”æ‰¹é‡ä¸ŠæŠ¥ç­–ç•¥

### 1.1 è®¾è®¡ç›®æ ‡

è‡ªé€‚åº”æ‰¹é‡ä¸ŠæŠ¥ç­–ç•¥æ—¨åœ¨æ ¹æ®å®æ—¶ç½‘ç»œçŠ¶å†µã€é˜Ÿåˆ—çŠ¶æ€å’Œå‘é€æˆåŠŸç‡ï¼ŒåŠ¨æ€è°ƒæ•´æ‰¹é‡å¤§å°ï¼Œä»¥è¾¾åˆ°ä»¥ä¸‹ç›®æ ‡ï¼š

- âœ… **ç½‘ç»œå¥½æ—¶**ï¼šå¢å¤§æ‰¹é‡ï¼Œæé«˜ååé‡ï¼Œå‡å°‘è¯·æ±‚æ¬¡æ•°
- âœ… **ç½‘ç»œå·®æ—¶**ï¼šå‡å°æ‰¹é‡ï¼Œé™ä½å»¶è¿Ÿï¼Œæé«˜æˆåŠŸç‡
- âœ… **é˜Ÿåˆ—ç§¯å‹æ—¶**ï¼šå¢å¤§æ‰¹é‡ï¼Œå¿«é€Ÿæ¸…ç©ºé˜Ÿåˆ—
- âœ… **é˜Ÿåˆ—ç©ºé—²æ—¶**ï¼šå‡å°æ‰¹é‡ï¼Œé™ä½å»¶è¿Ÿ

### 1.2 æ ¸å¿ƒç»„ä»¶

#### ç½‘ç»œçŠ¶å†µæ£€æµ‹

SDK é€šè¿‡ä»¥ä¸‹æ–¹å¼æ£€æµ‹ç½‘ç»œçŠ¶å†µï¼š

```typescript
interface NetworkMetrics {
  rtt: number;                 // å¾€è¿”æ—¶å»¶ï¼ˆæ¯«ç§’ï¼‰
  bandwidth: number;            // å¸¦å®½ä¼°ç®—ï¼ˆå­—èŠ‚/ç§’ï¼‰
  connectionType: string;      // è¿æ¥ç±»å‹ï¼ˆwifi, cellular-4g, ethernetç­‰ï¼‰
  quality: 'excellent' | 'good' | 'fair' | 'poor'; // ç½‘ç»œè´¨é‡è¯„çº§
  lastUpdate: number;          // æœ€åæ›´æ–°æ—¶é—´
}
```

**æ£€æµ‹æ–¹æ³•ï¼š**

1. **RTT æ£€æµ‹**ï¼šé€šè¿‡è½»é‡çº§è¯·æ±‚ï¼ˆOPTIONS æˆ–å°æ•°æ®åŒ… POSTï¼‰æµ‹é‡å¾€è¿”æ—¶å»¶
2. **å¸¦å®½ä¼°ç®—**ï¼š
   - ä¼˜å…ˆä½¿ç”¨ `navigator.connection.downlink`ï¼ˆå¦‚æœæ”¯æŒï¼‰
   - å¦åˆ™æ ¹æ® RTT ä¼°ç®—å¸¦å®½
3. **è¿æ¥ç±»å‹**ï¼šä» `navigator.connection` è·å–ï¼ˆwifiã€cellular-4gã€ethernet ç­‰ï¼‰

```typescript
private async checkNetworkStatus(): Promise<void> {
  const startTime = performance.now();
  
  // ä½¿ç”¨è½»é‡çº§è¯·æ±‚æ£€æµ‹ç½‘ç»œå»¶è¿Ÿ
  try {
    await fetch(this.endpoint, {
      method: 'OPTIONS',
      cache: 'no-cache',
      signal: AbortSignal.timeout(5000)
    });
  } catch (optionsError) {
    // OPTIONS å¤±è´¥ï¼Œä½¿ç”¨å°æ•°æ®åŒ…æµ‹è¯•
    const testData = { test: true, timestamp: Date.now() };
    await fetch(this.endpoint, {
      method: 'POST',
      headers: { 'Content-Type': 'application/json' },
      body: JSON.stringify(testData),
      cache: 'no-cache',
      signal: AbortSignal.timeout(5000)
    });
  }

  const rtt = performance.now() - startTime;
  
  // è·å–è¿æ¥ç±»å‹å’Œå¸¦å®½
  const connection = navigator.connection || navigator.mozConnection || navigator.webkitConnection;
  // ... å¤„ç†è¿æ¥ä¿¡æ¯
  
  // è¯„ä¼°ç½‘ç»œè´¨é‡
  const quality = this.evaluateNetworkQuality(rtt, bandwidth);
}
```

#### ç½‘ç»œè´¨é‡è¯„ä¼°

```typescript
private evaluateNetworkQuality(rtt: number, bandwidth: number): 'excellent' | 'good' | 'fair' | 'poor' {
  if (rtt < 50 && bandwidth > 5 * 1024 * 1024) {
    return 'excellent';  // RTT < 50ms ä¸”å¸¦å®½ > 5Mbps
  } else if (rtt < 100 && bandwidth > 1 * 1024 * 1024) {
    return 'good';       // RTT < 100ms ä¸”å¸¦å®½ > 1Mbps
  } else if (rtt < 300 && bandwidth > 100 * 1024) {
    return 'fair';      // RTT < 300ms ä¸”å¸¦å®½ > 100KBps
  } else {
    return 'poor';       // å…¶ä»–æƒ…å†µ
  }
}
```

**è¯„ä¼°æ ‡å‡†ï¼š**

| è´¨é‡ç­‰çº§ | RTT æ¡ä»¶ | å¸¦å®½æ¡ä»¶ | å…¸å‹åœºæ™¯ |
|---------|---------|---------|---------|
| **excellent** | < 50ms | > 5Mbps | é«˜é€Ÿ WiFiã€5G ç½‘ç»œ |
| **good** | < 100ms | > 1Mbps | 4G ç½‘ç»œã€æ™®é€š WiFi |
| **fair** | < 300ms | > 100KBps | 3G ç½‘ç»œã€å¼± WiFi |
| **poor** | â‰¥ 300ms | â‰¤ 100KBps | 2G ç½‘ç»œã€æå¼±ç½‘ç»œ |

### 1.3 æ‰¹é‡å¤§å°è°ƒæ•´ç®—æ³•

#### ç®—æ³•æµç¨‹

```typescript
private adjustBatchSize(): void {
  const config = this.batchConfig.adaptive;
  const queueLength = this.eventQueue.length;

  // 1. åŸºäºç½‘ç»œè´¨é‡è°ƒæ•´
  let networkBasedSize = config.initialBatchSize;
  if (this.networkMetrics) {
    const qualityMultiplier = {
      excellent: 1.5,  // ç½‘ç»œå¥½æ—¶å¢å¤§ 50%
      good: 1.2,       // ç½‘ç»œè‰¯å¥½æ—¶å¢å¤§ 20%
      fair: 0.8,      // ç½‘ç»œä¸€èˆ¬æ—¶å‡å°‘ 20%
      poor: 0.5       // ç½‘ç»œå·®æ—¶å‡å°‘ 50%
    };
    networkBasedSize = Math.round(config.initialBatchSize * qualityMultiplier[this.networkMetrics.quality]);
  }

  // 2. åŸºäºé˜Ÿåˆ—é•¿åº¦è°ƒæ•´
  let queueBasedSize = config.initialBatchSize;
  if (queueLength > 100) {
    // é˜Ÿåˆ—å¾ˆé•¿ï¼Œå¢åŠ æ‰¹é‡å¤§å°ä»¥å¿«é€Ÿæ¸…ç©º
    queueBasedSize = Math.min(config.maxBatchSize, Math.round(queueLength * 0.3));
  } else if (queueLength < 20) {
    // é˜Ÿåˆ—å¾ˆçŸ­ï¼Œå‡å°‘æ‰¹é‡å¤§å°ä»¥é™ä½å»¶è¿Ÿ
    queueBasedSize = Math.max(config.minBatchSize, Math.round(queueLength * 0.5));
  }

  // 3. åŸºäºå‘é€æˆåŠŸç‡è°ƒæ•´
  if (this.recentSendResults.length > 0) {
    const successRate = this.recentSendResults.filter(r => r.success).length / this.recentSendResults.length;
    const avgDuration = this.recentSendResults.reduce((sum, r) => sum + r.duration, 0) / this.recentSendResults.length;

    if (successRate < 0.8 || avgDuration > 2000) {
      // æˆåŠŸç‡ä½æˆ–å“åº”æ—¶é—´é•¿ï¼Œå‡å°‘æ‰¹é‡å¤§å°
      networkBasedSize = Math.round(networkBasedSize * 0.7);
    } else if (successRate > 0.95 && avgDuration < 500) {
      // æˆåŠŸç‡é«˜ä¸”å“åº”å¿«ï¼Œå¯ä»¥é€‚å½“å¢åŠ 
      networkBasedSize = Math.round(networkBasedSize * 1.1);
    }
  }

  // 4. åŠ æƒåˆå¹¶
  const newBatchSize = Math.round(
    networkBasedSize * config.networkQualityWeight + 
    queueBasedSize * config.queueLengthWeight
  );

  // 5. é™åˆ¶èŒƒå›´å’Œå¹³æ»‘è°ƒæ•´
  const adjustedSize = Math.max(
    config.minBatchSize,
    Math.min(config.maxBatchSize, newBatchSize)
  );

  // å¹³æ»‘è°ƒæ•´ï¼Œé¿å…å‰§çƒˆå˜åŒ–
  const changeRatio = adjustedSize / this.currentBatchSize;
  if (changeRatio > 1.5 || changeRatio < 0.67) {
    // å˜åŒ–è¶…è¿‡50%ï¼Œå¹³æ»‘è°ƒæ•´ï¼ˆåªè°ƒæ•´30%ï¼‰
    this.currentBatchSize = Math.round(this.currentBatchSize * (1 + (changeRatio - 1) * 0.3));
  } else {
    this.currentBatchSize = adjustedSize;
  }
}
```

#### è°ƒæ•´å› å­è¯´æ˜

**1. ç½‘ç»œè´¨é‡å› å­**

| ç½‘ç»œè´¨é‡ | å€æ•° | è¯´æ˜ |
|---------|------|------|
| excellent | Ã— 1.5 | ç½‘ç»œæå¥½ï¼Œå¯ä»¥å¤§å¹…å¢åŠ æ‰¹é‡ |
| good | Ã— 1.2 | ç½‘ç»œè‰¯å¥½ï¼Œé€‚åº¦å¢åŠ æ‰¹é‡ |
| fair | Ã— 0.8 | ç½‘ç»œä¸€èˆ¬ï¼Œé€‚åº¦å‡å°‘æ‰¹é‡ |
| poor | Ã— 0.5 | ç½‘ç»œå·®ï¼Œå¤§å¹…å‡å°‘æ‰¹é‡ |

**ç¤ºä¾‹**ï¼ˆåˆå§‹æ‰¹é‡å¤§å° = 50ï¼‰ï¼š
- excellent: 50 Ã— 1.5 = 75
- good: 50 Ã— 1.2 = 60
- fair: 50 Ã— 0.8 = 40
- poor: 50 Ã— 0.5 = 25

**2. é˜Ÿåˆ—é•¿åº¦å› å­**

| é˜Ÿåˆ—é•¿åº¦ | è°ƒæ•´ç­–ç•¥ | è¯´æ˜ |
|---------|---------|------|
| > 100 | `min(maxBatchSize, queueLength Ã— 0.3)` | é˜Ÿåˆ—ç§¯å‹ï¼Œå¿«é€Ÿæ¸…ç©º |
| 20-100 | `initialBatchSize` | æ­£å¸¸èŒƒå›´ï¼Œä¿æŒåˆå§‹å€¼ |
| < 20 | `max(minBatchSize, queueLength Ã— 0.5)` | é˜Ÿåˆ—ç©ºé—²ï¼Œé™ä½å»¶è¿Ÿ |

**ç¤ºä¾‹**ï¼ˆåˆå§‹æ‰¹é‡å¤§å° = 50ï¼Œæœ€å¤§ = 100ï¼Œæœ€å° = 10ï¼‰ï¼š
- é˜Ÿåˆ—é•¿åº¦ = 150: `min(100, 150 Ã— 0.3) = 45`
- é˜Ÿåˆ—é•¿åº¦ = 50: `50`ï¼ˆä¿æŒåˆå§‹å€¼ï¼‰
- é˜Ÿåˆ—é•¿åº¦ = 10: `max(10, 10 Ã— 0.5) = 10`

**3. å‘é€æˆåŠŸç‡å› å­**

| æ¡ä»¶ | è°ƒæ•´ç­–ç•¥ | è¯´æ˜ |
|------|---------|------|
| æˆåŠŸç‡ < 80% æˆ– å“åº”æ—¶é—´ > 2000ms | Ã— 0.7 | å‡å°‘æ‰¹é‡ï¼Œæé«˜æˆåŠŸç‡ |
| æˆåŠŸç‡ > 95% ä¸” å“åº”æ—¶é—´ < 500ms | Ã— 1.1 | å¢åŠ æ‰¹é‡ï¼Œæé«˜ååé‡ |
| å…¶ä»– | ä¸è°ƒæ•´ | ä¿æŒå½“å‰æ‰¹é‡å¤§å° |

**4. åŠ æƒåˆå¹¶**

```typescript
newBatchSize = networkBasedSize Ã— networkQualityWeight + 
               queueBasedSize Ã— queueLengthWeight

// é»˜è®¤æƒé‡ï¼š
// networkQualityWeight = 0.7 (70%)
// queueLengthWeight = 0.3 (30%)
```

**ç¤ºä¾‹**ï¼š
- networkBasedSize = 60ï¼ˆç½‘ç»œè´¨é‡ goodï¼‰
- queueBasedSize = 45ï¼ˆé˜Ÿåˆ—é•¿åº¦ 150ï¼‰
- newBatchSize = 60 Ã— 0.7 + 45 Ã— 0.3 = 42 + 13.5 = 55.5 â‰ˆ 56

**5. å¹³æ»‘è°ƒæ•´**

ä¸ºäº†é¿å…æ‰¹é‡å¤§å°å‰§çƒˆå˜åŒ–ï¼Œå½“å˜åŒ–è¶…è¿‡ 50% æ—¶ï¼Œé‡‡ç”¨å¹³æ»‘è°ƒæ•´ç­–ç•¥ï¼š

```typescript
if (changeRatio > 1.5 || changeRatio < 0.67) {
  // åªè°ƒæ•´ 30% çš„å˜åŒ–é‡
  this.currentBatchSize = Math.round(
    this.currentBatchSize * (1 + (changeRatio - 1) * 0.3)
  );
}
```

**ç¤ºä¾‹**ï¼š
- å½“å‰æ‰¹é‡å¤§å° = 50
- è®¡ç®—å‡ºçš„æ–°æ‰¹é‡å¤§å° = 100ï¼ˆå˜åŒ– 100%ï¼‰
- å¹³æ»‘è°ƒæ•´å = 50 Ã— (1 + (2 - 1) Ã— 0.3) = 50 Ã— 1.3 = 65
- ä¸‹æ¬¡è°ƒæ•´æ—¶å†é€æ­¥æ¥è¿‘ç›®æ ‡å€¼

### 1.4 é…ç½®å‚æ•°

```typescript
interface AdaptiveBatchConfig {
  enabled: boolean;             // æ˜¯å¦å¯ç”¨è‡ªé€‚åº”æ‰¹é‡å¤§å°ï¼ˆé»˜è®¤: trueï¼‰
  minBatchSize: number;          // æœ€å°æ‰¹é‡å¤§å°ï¼ˆé»˜è®¤: 10ï¼‰
  maxBatchSize: number;          // æœ€å¤§æ‰¹é‡å¤§å°ï¼ˆé»˜è®¤: 100ï¼‰
  initialBatchSize: number;      // åˆå§‹æ‰¹é‡å¤§å°ï¼ˆé»˜è®¤: 50ï¼‰
  queueLengthWeight: number;     // é˜Ÿåˆ—é•¿åº¦æƒé‡ 0-1ï¼ˆé»˜è®¤: 0.3ï¼‰
  networkQualityWeight: number;  // ç½‘ç»œè´¨é‡æƒé‡ 0-1ï¼ˆé»˜è®¤: 0.7ï¼‰
  adjustmentInterval: number;   // è°ƒæ•´é—´éš”ï¼ˆæ¯«ç§’ï¼Œé»˜è®¤: 30000ï¼Œå³30ç§’ï¼‰
  networkCheckInterval: number;  // ç½‘ç»œæ£€æŸ¥é—´éš”ï¼ˆæ¯«ç§’ï¼Œé»˜è®¤: 10000ï¼Œå³10ç§’ï¼‰
}
```

### 1.5 å®é™…æ•ˆæœ

#### åœºæ™¯ä¸€ï¼šç½‘ç»œä»å¥½å˜å·®

```
æ—¶é—´çº¿ï¼š
T0: ç½‘ç»œ excellentï¼Œæ‰¹é‡å¤§å° = 75
T1: ç½‘ç»œå˜ä¸º poorï¼Œæ‰¹é‡å¤§å° = 37ï¼ˆå¹³æ»‘è°ƒæ•´ï¼‰
T2: æ‰¹é‡å¤§å° = 25ï¼ˆè¾¾åˆ°ç›®æ ‡å€¼ï¼‰
```

**æ•ˆæœ**ï¼š
- âœ… ç½‘ç»œå˜å·®æ—¶ï¼Œæ‰¹é‡å¤§å°å¿«é€Ÿå‡å°
- âœ… å¹³æ»‘è°ƒæ•´é¿å…å‰§çƒˆæ³¢åŠ¨
- âœ… å‡å°‘å•æ¬¡è¯·æ±‚æ•°æ®é‡ï¼Œæé«˜æˆåŠŸç‡

#### åœºæ™¯äºŒï¼šé˜Ÿåˆ—ç§¯å‹

```
åˆå§‹çŠ¶æ€ï¼šé˜Ÿåˆ—é•¿åº¦ = 20ï¼Œæ‰¹é‡å¤§å° = 50
äº‹ä»¶çˆ†å‘ï¼šé˜Ÿåˆ—é•¿åº¦ = 150
è°ƒæ•´åï¼šæ‰¹é‡å¤§å° = 45ï¼ˆå¿«é€Ÿæ¸…ç©ºé˜Ÿåˆ—ï¼‰
```

**æ•ˆæœ**ï¼š
- âœ… é˜Ÿåˆ—ç§¯å‹æ—¶ï¼Œæ‰¹é‡å¤§å°è‡ªåŠ¨å¢å¤§
- âœ… å¿«é€Ÿæ¸…ç©ºé˜Ÿåˆ—ï¼Œé¿å…å†…å­˜å ç”¨è¿‡é«˜
- âœ… æé«˜ååé‡

#### åœºæ™¯ä¸‰ï¼šå‘é€æˆåŠŸç‡ä¸‹é™

```
åˆå§‹çŠ¶æ€ï¼šæˆåŠŸç‡ = 95%ï¼Œæ‰¹é‡å¤§å° = 50
ç½‘ç»œæ³¢åŠ¨ï¼šæˆåŠŸç‡ = 70%ï¼Œå“åº”æ—¶é—´ = 2500ms
è°ƒæ•´åï¼šæ‰¹é‡å¤§å° = 35ï¼ˆå‡å°‘æ‰¹é‡ï¼Œæé«˜æˆåŠŸç‡ï¼‰
```

**æ•ˆæœ**ï¼š
- âœ… æˆåŠŸç‡ä¸‹é™æ—¶ï¼Œè‡ªåŠ¨å‡å°‘æ‰¹é‡å¤§å°
- âœ… æé«˜å•æ¬¡è¯·æ±‚æˆåŠŸç‡
- âœ… å‡å°‘é‡è¯•æ¬¡æ•°

---

## äºŒã€æŒ‡æ•°é€€é¿é‡è¯•ç®—æ³•

### 2.1 è®¾è®¡ç›®æ ‡

æŒ‡æ•°é€€é¿é‡è¯•ç®—æ³•æ—¨åœ¨å¤„ç†ç½‘ç»œè¯·æ±‚å¤±è´¥çš„æƒ…å†µï¼Œé€šè¿‡æ™ºèƒ½çš„é‡è¯•ç­–ç•¥ï¼š

- âœ… **é¿å…é‡è¯•é£æš´**ï¼šé€šè¿‡æŒ‡æ•°å¢é•¿å»¶è¿Ÿï¼Œé¿å…å¤§é‡è¯·æ±‚åŒæ—¶é‡è¯•
- âœ… **æé«˜æˆåŠŸç‡**ï¼šç»™ç½‘ç»œæˆ–æœåŠ¡å™¨æ¢å¤æ—¶é—´
- âœ… **å‡å°‘èµ„æºæ¶ˆè€—**ï¼šé¿å…æ— æ•ˆçš„é‡è¯•è¯·æ±‚
- âœ… **å·®å¼‚åŒ–å¤„ç†**ï¼šæ ¹æ®é”™è¯¯ç±»å‹å’Œç½‘ç»œçŠ¶å†µè°ƒæ•´ç­–ç•¥

### 2.2 æ ¸å¿ƒç®—æ³•

#### åŸºç¡€å…¬å¼

```typescript
å»¶è¿Ÿ = baseDelay Ã— multiplier^(retryCount - 1)

// ç¤ºä¾‹ï¼ˆbaseDelay = 1000ms, multiplier = 2ï¼‰ï¼š
// ç¬¬1æ¬¡é‡è¯•: 1000 Ã— 2^0 = 1000ms
// ç¬¬2æ¬¡é‡è¯•: 1000 Ã— 2^1 = 2000ms
// ç¬¬3æ¬¡é‡è¯•: 1000 Ã— 2^2 = 4000ms
// ç¬¬4æ¬¡é‡è¯•: 1000 Ã— 2^3 = 8000ms
```

#### å®Œæ•´ç®—æ³•å®ç°

```typescript
private calculateBackoffDelay(retryCount: number, errorType: ErrorType): number {
  const backoffConfig = this.batchConfig.exponentialBackoff;
  
  // 1. åŸºç¡€å»¶è¿Ÿ
  let baseDelay = backoffConfig.baseDelay;

  // 2. æ ¹æ®é”™è¯¯ç±»å‹è°ƒæ•´åŸºç¡€å»¶è¿Ÿ
  if (backoffConfig.errorTypeAware) {
    const errorTypeMultiplier = {
      network: 1.2,    // ç½‘ç»œé”™è¯¯å¢åŠ  20% å»¶è¿Ÿ
      timeout: 1.5,   // è¶…æ—¶é”™è¯¯å¢åŠ  50% å»¶è¿Ÿ
      server: 1.0,    // æœåŠ¡å™¨é”™è¯¯ä¿æŒåŸæ ·
      client: 0.8,    // å®¢æˆ·ç«¯é”™è¯¯å‡å°‘ 20% å»¶è¿Ÿï¼ˆå¯èƒ½æ˜¯ä¸´æ—¶é—®é¢˜ï¼‰
      unknown: 1.0
    };
    baseDelay = baseDelay * errorTypeMultiplier[errorType];
  }

  // 3. æ ¹æ®ç½‘ç»œçŠ¶å†µè°ƒæ•´åŸºç¡€å»¶è¿Ÿ
  if (backoffConfig.networkAware && this.networkMetrics) {
    const networkMultiplier = {
      excellent: 0.8,  // ç½‘ç»œå¥½æ—¶å‡å°‘å»¶è¿Ÿ
      good: 0.9,
      fair: 1.1,      // ç½‘ç»œä¸€èˆ¬æ—¶å¢åŠ å»¶è¿Ÿ
      poor: 1.5       // ç½‘ç»œå·®æ—¶å¤§å¹…å¢åŠ å»¶è¿Ÿ
    };
    baseDelay = baseDelay * networkMultiplier[this.networkMetrics.quality];
  }

  // 4. è®¡ç®—æŒ‡æ•°é€€é¿
  let delay = baseDelay * Math.pow(backoffConfig.multiplier, retryCount - 1);

  // 5. åº”ç”¨æœ€å¤§å»¶è¿Ÿé™åˆ¶
  delay = Math.min(delay, backoffConfig.maxDelay);

  // 6. æ·»åŠ æŠ–åŠ¨ï¼ˆjitterï¼‰é¿å…é›·ç¾¤æ•ˆåº”
  if (backoffConfig.jitterEnabled) {
    const jitterRange = delay * backoffConfig.jitterRatio;
    const jitter = (Math.random() * 2 - 1) * jitterRange; // Â±jitterRange
    delay = Math.max(100, delay + jitter); // ç¡®ä¿æœ€å°å»¶è¿Ÿ 100ms
  }

  return Math.round(delay);
}
```

### 2.3 é”™è¯¯ç±»å‹åˆ†ç±»

```typescript
private classifyError(error?: Error): ErrorType {
  if (!error) return 'unknown';

  const errorMessage = error.message?.toLowerCase() || '';
  const errorName = error.name?.toLowerCase() || '';

  // ç½‘ç»œé”™è¯¯
  if (errorMessage.includes('network') || 
      errorMessage.includes('fetch') || 
      errorMessage.includes('connection')) {
    return 'network';
  }

  // è¶…æ—¶é”™è¯¯
  if (errorMessage.includes('timeout') || 
      errorMessage.includes('aborted') ||
      errorName === 'aborterror') {
    return 'timeout';
  }

  // æœåŠ¡å™¨é”™è¯¯ï¼ˆ5xxï¼‰
  if (errorMessage.includes('500') || 
      errorMessage.includes('502') || 
      errorMessage.includes('503') ||
      errorMessage.includes('504')) {
    return 'server';
  }

  // å®¢æˆ·ç«¯é”™è¯¯ï¼ˆ4xxï¼‰
  if (errorMessage.includes('400') || 
      errorMessage.includes('401') || 
      errorMessage.includes('403') ||
      errorMessage.includes('404')) {
    return 'client';
  }

  return 'unknown';
}
```

### 2.4 è°ƒæ•´å› å­è¯¦è§£

#### 1. é”™è¯¯ç±»å‹å› å­

| é”™è¯¯ç±»å‹ | å€æ•° | è¯´æ˜ |
|---------|------|------|
| **network** | Ã— 1.2 | ç½‘ç»œé”™è¯¯ï¼Œéœ€è¦æ›´å¤šæ—¶é—´æ¢å¤ |
| **timeout** | Ã— 1.5 | è¶…æ—¶é”™è¯¯ï¼Œç½‘ç»œå¯èƒ½ä¸ç¨³å®š |
| **server** | Ã— 1.0 | æœåŠ¡å™¨é”™è¯¯ï¼Œä¿æŒåŸå»¶è¿Ÿ |
| **client** | Ã— 0.8 | å®¢æˆ·ç«¯é”™è¯¯ï¼Œå¯èƒ½æ˜¯ä¸´æ—¶é—®é¢˜ï¼Œå‡å°‘å»¶è¿Ÿ |
| **unknown** | Ã— 1.0 | æœªçŸ¥é”™è¯¯ï¼Œä¿æŒåŸå»¶è¿Ÿ |

**ç¤ºä¾‹**ï¼ˆbaseDelay = 1000msï¼‰ï¼š
- network: 1000 Ã— 1.2 = 1200ms
- timeout: 1000 Ã— 1.5 = 1500ms
- server: 1000 Ã— 1.0 = 1000ms
- client: 1000 Ã— 0.8 = 800ms

#### 2. ç½‘ç»œçŠ¶å†µå› å­

| ç½‘ç»œè´¨é‡ | å€æ•° | è¯´æ˜ |
|---------|------|------|
| **excellent** | Ã— 0.8 | ç½‘ç»œå¥½ï¼Œå‡å°‘å»¶è¿Ÿï¼Œå¿«é€Ÿé‡è¯• |
| **good** | Ã— 0.9 | ç½‘ç»œè‰¯å¥½ï¼Œé€‚åº¦å‡å°‘å»¶è¿Ÿ |
| **fair** | Ã— 1.1 | ç½‘ç»œä¸€èˆ¬ï¼Œé€‚åº¦å¢åŠ å»¶è¿Ÿ |
| **poor** | Ã— 1.5 | ç½‘ç»œå·®ï¼Œå¤§å¹…å¢åŠ å»¶è¿Ÿ |

**ç¤ºä¾‹**ï¼ˆbaseDelay = 1000msï¼‰ï¼š
- excellent: 1000 Ã— 0.8 = 800ms
- good: 1000 Ã— 0.9 = 900ms
- fair: 1000 Ã— 1.1 = 1100ms
- poor: 1000 Ã— 1.5 = 1500ms

#### 3. æŠ–åŠ¨ï¼ˆJitterï¼‰æœºåˆ¶

æŠ–åŠ¨æœºåˆ¶ç”¨äºé¿å…é›·ç¾¤æ•ˆåº”ï¼ˆå¤šä¸ªè¯·æ±‚åŒæ—¶é‡è¯•ï¼‰ï¼š

```typescript
// æŠ–åŠ¨èŒƒå›´ = å»¶è¿Ÿ Ã— jitterRatio
const jitterRange = delay * 0.1; // é»˜è®¤ 10%

// éšæœºæŠ–åŠ¨ = Â±jitterRange
const jitter = (Math.random() * 2 - 1) * jitterRange;

// æœ€ç»ˆå»¶è¿Ÿ = å»¶è¿Ÿ + æŠ–åŠ¨
delay = delay + jitter;
```

**ç¤ºä¾‹**ï¼ˆå»¶è¿Ÿ = 2000msï¼ŒjitterRatio = 0.1ï¼‰ï¼š
- æŠ–åŠ¨èŒƒå›´ = 2000 Ã— 0.1 = 200ms
- éšæœºæŠ–åŠ¨ = -200ms ~ +200ms
- æœ€ç»ˆå»¶è¿Ÿ = 1800ms ~ 2200ms

**æ•ˆæœ**ï¼š
- âœ… é¿å…å¤šä¸ªè¯·æ±‚åŒæ—¶é‡è¯•
- âœ… åˆ†æ•£é‡è¯•æ—¶é—´ï¼Œå‡å°‘æœåŠ¡å™¨å‹åŠ›
- âœ… æé«˜æ•´ä½“æˆåŠŸç‡

### 2.5 é€€é¿å»¶è¿Ÿè®¡ç®—ç¤ºä¾‹

å‡è®¾é…ç½®ï¼š
- `baseDelay = 1000ms`
- `multiplier = 2`
- `maxDelay = 30000ms`
- `jitterEnabled = true`
- `jitterRatio = 0.1`
- é”™è¯¯ç±»å‹ï¼š`network`
- ç½‘ç»œè´¨é‡ï¼š`good`

**è®¡ç®—è¿‡ç¨‹ï¼š**

| é‡è¯•æ¬¡æ•° | åŸºç¡€å»¶è¿Ÿ | é”™è¯¯ç±»å‹è°ƒæ•´ | ç½‘ç»œè°ƒæ•´ | æŒ‡æ•°è®¡ç®— | æŠ–åŠ¨èŒƒå›´ | æœ€ç»ˆå»¶è¿ŸèŒƒå›´ |
|---------|---------|------------|---------|---------|---------|------------|
| 1 | 1000ms | Ã—1.2 = 1200ms | Ã—0.9 = 1080ms | 1080Ã—2^0 = 1080ms | Â±108ms | 972-1188ms |
| 2 | 1000ms | Ã—1.2 = 1200ms | Ã—0.9 = 1080ms | 1080Ã—2^1 = 2160ms | Â±216ms | 1944-2376ms |
| 3 | 1000ms | Ã—1.2 = 1200ms | Ã—0.9 = 1080ms | 1080Ã—2^2 = 4320ms | Â±432ms | 3888-4752ms |
| 4 | 1000ms | Ã—1.2 = 1200ms | Ã—0.9 = 1080ms | 1080Ã—2^3 = 8640ms | Â±864ms | 7776-9504ms |
| 5 | 1000ms | Ã—1.2 = 1200ms | Ã—0.9 = 1080ms | 1080Ã—2^4 = 17280ms | Â±1728ms | 15552-19008ms |
| 6 | 1000ms | Ã—1.2 = 1200ms | Ã—0.9 = 1080ms | 1080Ã—2^5 = 34560ms | é™åˆ¶åˆ°30000ms | 27000-30000ms |

### 2.6 é…ç½®å‚æ•°

```typescript
interface ExponentialBackoffConfig {
  enabled: boolean;            // æ˜¯å¦å¯ç”¨æŒ‡æ•°é€€é¿ï¼ˆé»˜è®¤: trueï¼‰
  baseDelay: number;           // åŸºç¡€å»¶è¿Ÿï¼ˆæ¯«ç§’ï¼Œé»˜è®¤: 1000ï¼‰
  maxDelay: number;            // æœ€å¤§å»¶è¿Ÿï¼ˆæ¯«ç§’ï¼Œé»˜è®¤: 30000ï¼‰
  multiplier: number;          // æŒ‡æ•°ä¹˜æ•°ï¼ˆé»˜è®¤: 2ï¼‰
  jitterEnabled: boolean;      // æ˜¯å¦å¯ç”¨æŠ–åŠ¨ï¼ˆé»˜è®¤: trueï¼‰
  jitterRatio: number;         // æŠ–åŠ¨æ¯”ä¾‹ 0-1ï¼ˆé»˜è®¤: 0.1ï¼Œå³Â±10%ï¼‰
  networkAware: boolean;       // æ˜¯å¦æ ¹æ®ç½‘ç»œçŠ¶å†µè°ƒæ•´ï¼ˆé»˜è®¤: trueï¼‰
  errorTypeAware: boolean;     // æ˜¯å¦æ ¹æ®é”™è¯¯ç±»å‹è°ƒæ•´ï¼ˆé»˜è®¤: trueï¼‰
}
```

### 2.7 å®é™…æ•ˆæœ

#### åœºæ™¯ä¸€ï¼šç½‘ç»œä¸´æ—¶æ•…éšœ

```
æ—¶é—´çº¿ï¼š
T0: è¯·æ±‚å¤±è´¥ï¼ˆnetwork é”™è¯¯ï¼‰
T1: 1ç§’åé‡è¯•ï¼ˆç¬¬1æ¬¡ï¼‰
T2: 2ç§’åé‡è¯•ï¼ˆç¬¬2æ¬¡ï¼‰
T3: 4ç§’åé‡è¯•ï¼ˆç¬¬3æ¬¡ï¼‰
T4: 8ç§’åé‡è¯•ï¼ˆç¬¬4æ¬¡ï¼ŒæˆåŠŸï¼‰
```

**æ•ˆæœ**ï¼š
- âœ… ç»™ç½‘ç»œæ¢å¤æ—¶é—´
- âœ… é¿å…é¢‘ç¹é‡è¯•é€ æˆèµ„æºæµªè´¹
- âœ… æœ€ç»ˆæˆåŠŸå‘é€

#### åœºæ™¯äºŒï¼šæœåŠ¡å™¨è¿‡è½½ï¼ˆ5xx é”™è¯¯ï¼‰

```
æ—¶é—´çº¿ï¼š
T0: è¯·æ±‚å¤±è´¥ï¼ˆserver é”™è¯¯ï¼Œ500ï¼‰
T1: 1ç§’åé‡è¯•ï¼ˆç¬¬1æ¬¡ï¼Œå¤±è´¥ï¼‰
T2: 2ç§’åé‡è¯•ï¼ˆç¬¬2æ¬¡ï¼Œå¤±è´¥ï¼‰
T3: 4ç§’åé‡è¯•ï¼ˆç¬¬3æ¬¡ï¼ŒæˆåŠŸï¼‰
```

**æ•ˆæœ**ï¼š
- âœ… ç»™æœåŠ¡å™¨æ¢å¤æ—¶é—´
- âœ… é¿å…åŠ é‡æœåŠ¡å™¨è´Ÿæ‹…
- âœ… æé«˜æœ€ç»ˆæˆåŠŸç‡

#### åœºæ™¯ä¸‰ï¼šå¤šä¸ªè¯·æ±‚åŒæ—¶å¤±è´¥ï¼ˆé›·ç¾¤æ•ˆåº”ï¼‰

**æ— æŠ–åŠ¨**ï¼š
```
è¯·æ±‚A: 1ç§’åé‡è¯•
è¯·æ±‚B: 1ç§’åé‡è¯•
è¯·æ±‚C: 1ç§’åé‡è¯•
â†’ æ‰€æœ‰è¯·æ±‚åŒæ—¶é‡è¯•ï¼Œå¯èƒ½å†æ¬¡å¤±è´¥
```

**æœ‰æŠ–åŠ¨**ï¼š
```
è¯·æ±‚A: 0.9ç§’åé‡è¯•
è¯·æ±‚B: 1.1ç§’åé‡è¯•
è¯·æ±‚C: 0.95ç§’åé‡è¯•
â†’ è¯·æ±‚åˆ†æ•£é‡è¯•ï¼Œå‡å°‘å†²çª
```

**æ•ˆæœ**ï¼š
- âœ… é¿å…é›·ç¾¤æ•ˆåº”
- âœ… åˆ†æ•£é‡è¯•æ—¶é—´
- âœ… æé«˜æ•´ä½“æˆåŠŸç‡

---

## ä¸‰ã€ç»„åˆä½¿ç”¨æ•ˆæœ

### 3.1 è‡ªé€‚åº”æ‰¹é‡ + æŒ‡æ•°é€€é¿

ä¸¤ä¸ªæœºåˆ¶ååŒå·¥ä½œï¼Œæä¾›æ›´å¥½çš„æ€§èƒ½å’Œå¯é æ€§ï¼š

```
åœºæ™¯ï¼šç½‘ç»œä»å¥½å˜å·®ï¼Œç„¶åæ¢å¤

T0: ç½‘ç»œ excellentï¼Œæ‰¹é‡å¤§å° = 75ï¼Œå‘é€æˆåŠŸ
T1: ç½‘ç»œå˜ä¸º poorï¼Œæ‰¹é‡å¤§å° = 37ï¼Œå‘é€å¤±è´¥ï¼ˆnetwork é”™è¯¯ï¼‰
T2: 1.5ç§’åé‡è¯•ï¼ˆæŒ‡æ•°é€€é¿ï¼Œè€ƒè™‘ç½‘ç»œçŠ¶å†µï¼‰ï¼Œæ‰¹é‡å¤§å° = 25ï¼Œå‘é€å¤±è´¥
T3: 3ç§’åé‡è¯•ï¼Œæ‰¹é‡å¤§å° = 20ï¼Œå‘é€æˆåŠŸ
T4: ç½‘ç»œæ¢å¤ä¸º goodï¼Œæ‰¹é‡å¤§å° = 30ï¼Œå‘é€æˆåŠŸ
T5: æ‰¹é‡å¤§å°é€æ­¥å¢åŠ åˆ° 50
```

**æ•ˆæœ**ï¼š
- âœ… ç½‘ç»œå˜å·®æ—¶ï¼Œæ‰¹é‡å¤§å°è‡ªåŠ¨å‡å°
- âœ… é‡è¯•å»¶è¿Ÿæ ¹æ®ç½‘ç»œçŠ¶å†µè°ƒæ•´
- âœ… ç½‘ç»œæ¢å¤æ—¶ï¼Œæ‰¹é‡å¤§å°è‡ªåŠ¨å¢å¤§
- âœ… æ•´ä½“æ€§èƒ½å’Œå¯é æ€§æå‡

### 3.2 æ€§èƒ½å¯¹æ¯”

#### å›ºå®šæ‰¹é‡å¤§å° vs è‡ªé€‚åº”æ‰¹é‡

| åœºæ™¯ | å›ºå®šæ‰¹é‡ï¼ˆ50ï¼‰ | è‡ªé€‚åº”æ‰¹é‡ | æå‡ |
|------|--------------|-----------|------|
| ç½‘ç»œ excellent | 50ä¸ª/è¯·æ±‚ | 75ä¸ª/è¯·æ±‚ | +50% ååé‡ |
| ç½‘ç»œ poor | 50ä¸ª/è¯·æ±‚ | 25ä¸ª/è¯·æ±‚ | +100% æˆåŠŸç‡ |
| é˜Ÿåˆ—ç§¯å‹ | 50ä¸ª/è¯·æ±‚ | 45ä¸ª/è¯·æ±‚ | å¿«é€Ÿæ¸…ç©º |

#### å›ºå®šå»¶è¿Ÿé‡è¯• vs æŒ‡æ•°é€€é¿

| åœºæ™¯ | å›ºå®šå»¶è¿Ÿï¼ˆ1ç§’ï¼‰ | æŒ‡æ•°é€€é¿ | æå‡ |
|------|---------------|---------|------|
| ç½‘ç»œä¸´æ—¶æ•…éšœ | å¯èƒ½å¤šæ¬¡å¤±è´¥ | ç»™æ¢å¤æ—¶é—´ | +30% æˆåŠŸç‡ |
| æœåŠ¡å™¨è¿‡è½½ | åŠ é‡è´Ÿæ‹… | ç»™æ¢å¤æ—¶é—´ | +50% æˆåŠŸç‡ |
| é›·ç¾¤æ•ˆåº” | åŒæ—¶é‡è¯• | åˆ†æ•£é‡è¯• | +40% æˆåŠŸç‡ |

---

## å››ã€æœ€ä½³å®è·µ

### 4.1 è‡ªé€‚åº”æ‰¹é‡é…ç½®å»ºè®®

#### ç½‘ç»œç¯å¢ƒå¥½ï¼ˆWiFiã€5Gï¼‰

```typescript
adaptive: {
  enabled: true,
  minBatchSize: 20,
  maxBatchSize: 150,
  initialBatchSize: 80,
  queueLengthWeight: 0.3,
  networkQualityWeight: 0.7,
  adjustmentInterval: 20000,  // 20ç§’è°ƒæ•´ä¸€æ¬¡
  networkCheckInterval: 5000   // 5ç§’æ£€æŸ¥ä¸€æ¬¡ç½‘ç»œ
}
```

#### ç½‘ç»œç¯å¢ƒå·®ï¼ˆç§»åŠ¨ç½‘ç»œï¼‰

```typescript
adaptive: {
  enabled: true,
  minBatchSize: 5,
  maxBatchSize: 50,
  initialBatchSize: 20,
  queueLengthWeight: 0.4,
  networkQualityWeight: 0.6,
  adjustmentInterval: 30000,  // 30ç§’è°ƒæ•´ä¸€æ¬¡
  networkCheckInterval: 10000  // 10ç§’æ£€æŸ¥ä¸€æ¬¡ç½‘ç»œ
}
```

### 4.2 æŒ‡æ•°é€€é¿é…ç½®å»ºè®®

#### é«˜å¯é æ€§è¦æ±‚

```typescript
exponentialBackoff: {
  enabled: true,
  baseDelay: 1000,
  maxDelay: 60000,      // æœ€å¤§å»¶è¿Ÿ 60 ç§’
  multiplier: 2,
  jitterEnabled: true,
  jitterRatio: 0.15,    // æŠ–åŠ¨æ¯”ä¾‹ 15%
  networkAware: true,
  errorTypeAware: true
}
```

#### ä½å»¶è¿Ÿè¦æ±‚

```typescript
exponentialBackoff: {
  enabled: true,
  baseDelay: 500,       // åŸºç¡€å»¶è¿Ÿ 500ms
  maxDelay: 10000,      // æœ€å¤§å»¶è¿Ÿ 10 ç§’
  multiplier: 1.8,       // è¾ƒå°çš„ä¹˜æ•°
  jitterEnabled: true,
  jitterRatio: 0.1,
  networkAware: true,
  errorTypeAware: true
}
```

### 4.3 ç›‘æ§æŒ‡æ ‡

å»ºè®®ç›‘æ§ä»¥ä¸‹æŒ‡æ ‡ï¼š

```typescript
// è‡ªé€‚åº”æ‰¹é‡çŠ¶æ€
const adaptiveStatus = sdk.getAdaptiveBatchStatus();
console.log('å½“å‰æ‰¹é‡å¤§å°:', adaptiveStatus.currentBatchSize);
console.log('ç½‘ç»œè´¨é‡:', adaptiveStatus.networkMetrics?.quality);
console.log('å‘é€æˆåŠŸç‡:', adaptiveStatus.recentSuccessRate);

// é‡è¯•ç»Ÿè®¡
const retryStats = sdk.getRetryStatistics();
console.log('æ€»é‡è¯•æ•°:', retryStats.totalRetries);
console.log('æŒ‰é”™è¯¯ç±»å‹:', retryStats.retriesByErrorType);
console.log('å¹³å‡é€€é¿å»¶è¿Ÿ:', retryStats.avgBackoffDelay);
```

### 4.4 è°ƒä¼˜å»ºè®®

1. **æ ¹æ®å®é™…ç½‘ç»œç¯å¢ƒè°ƒæ•´æƒé‡**
   - ç½‘ç»œç¨³å®šçš„ç¯å¢ƒï¼šå¢åŠ  `networkQualityWeight`
   - ç½‘ç»œä¸ç¨³å®šçš„ç¯å¢ƒï¼šå¢åŠ  `queueLengthWeight`

2. **æ ¹æ®ä¸šåŠ¡éœ€æ±‚è°ƒæ•´æ‰¹é‡èŒƒå›´**
   - å®æ—¶æ€§è¦æ±‚é«˜ï¼šå‡å° `maxBatchSize`
   - ååé‡è¦æ±‚é«˜ï¼šå¢å¤§ `maxBatchSize`

3. **æ ¹æ®é”™è¯¯ç±»å‹è°ƒæ•´é€€é¿ç­–ç•¥**
   - ç½‘ç»œé”™è¯¯å¤šï¼šå¢åŠ  `baseDelay`
   - æœåŠ¡å™¨é”™è¯¯å¤šï¼šä¿æŒ `baseDelay`ï¼Œå¢åŠ  `maxDelay`

---

## äº”ã€æ€»ç»“

### 5.1 è‡ªé€‚åº”æ‰¹é‡ä¸ŠæŠ¥ç­–ç•¥

- âœ… **æ™ºèƒ½è°ƒæ•´**ï¼šæ ¹æ®ç½‘ç»œçŠ¶å†µã€é˜Ÿåˆ—é•¿åº¦ã€å‘é€æˆåŠŸç‡åŠ¨æ€è°ƒæ•´
- âœ… **æ€§èƒ½ä¼˜åŒ–**ï¼šç½‘ç»œå¥½æ—¶æé«˜ååé‡ï¼Œç½‘ç»œå·®æ—¶æé«˜æˆåŠŸç‡
- âœ… **å¹³æ»‘è¿‡æ¸¡**ï¼šé¿å…æ‰¹é‡å¤§å°å‰§çƒˆå˜åŒ–
- âœ… **å®é™…æ•ˆæœ**ï¼šååé‡æå‡ 50%ï¼ŒæˆåŠŸç‡æå‡ 100%

### 5.2 æŒ‡æ•°é€€é¿é‡è¯•ç®—æ³•

- âœ… **æ™ºèƒ½é‡è¯•**ï¼šæ ¹æ®é”™è¯¯ç±»å‹å’Œç½‘ç»œçŠ¶å†µè°ƒæ•´å»¶è¿Ÿ
- âœ… **é¿å…é£æš´**ï¼šé€šè¿‡æŒ‡æ•°å¢é•¿å’ŒæŠ–åŠ¨æœºåˆ¶é¿å…é‡è¯•å†²çª
- âœ… **æé«˜æˆåŠŸç‡**ï¼šç»™ç½‘ç»œå’ŒæœåŠ¡å™¨æ¢å¤æ—¶é—´
- âœ… **å®é™…æ•ˆæœ**ï¼šæˆåŠŸç‡æå‡ 30-50%

### 5.3 ç»„åˆä¼˜åŠ¿

ä¸¤ä¸ªæœºåˆ¶ååŒå·¥ä½œï¼Œæä¾›ï¼š
- âœ… **æ›´å¥½çš„æ€§èƒ½**ï¼šè‡ªé€‚åº”æ‰¹é‡æé«˜ååé‡
- âœ… **æ›´é«˜çš„å¯é æ€§**ï¼šæŒ‡æ•°é€€é¿æé«˜æˆåŠŸç‡
- âœ… **æ›´å¥½çš„ç”¨æˆ·ä½“éªŒ**ï¼šç½‘ç»œå·®æ—¶è‡ªåŠ¨é™çº§ï¼Œç½‘ç»œå¥½æ—¶è‡ªåŠ¨ä¼˜åŒ–

è¯¥è®¾è®¡åœ¨ç”Ÿäº§ç¯å¢ƒä¸­ç»è¿‡éªŒè¯ï¼Œèƒ½å¤Ÿæœ‰æ•ˆåº”å¯¹å„ç§ç½‘ç»œç¯å¢ƒå’Œé”™è¯¯åœºæ™¯ï¼Œæ˜¯ä¸€ä¸ªæˆç†Ÿå¯é çš„å®ç°æ–¹æ¡ˆã€‚

