# JavaScript ä¼˜åŒ–æ€»ç»“

## âœ… å·²å®Œæˆçš„ä¼˜åŒ–

### 1. å›¾è¡¨åº“æ‡’åŠ è½½

æ‰€æœ‰ä½¿ç”¨ `@ant-design/plots` çš„é¡µé¢éƒ½å·²æ”¹ä¸ºæ‡’åŠ è½½ï¼š

- âœ… `src/pages/Dashboard/index.tsx` - Line å›¾è¡¨
- âœ… `src/pages/EventAnalysis/index.tsx` - Line å›¾è¡¨
- âœ… `src/pages/FunnelAnalysis/index.tsx` - Funnel å›¾è¡¨
- âœ… `src/pages/Prediction/index.tsx` - Line å›¾è¡¨
- âœ… `src/pages/PredictionHistory/index.tsx` - Line å›¾è¡¨
- âœ… `src/components/Dashboard.tsx` - Line å›¾è¡¨

**ä¼˜åŒ–æ–¹å¼**ï¼š
```typescript
// æ‡’åŠ è½½
const Line = React.lazy(() => import('@ant-design/plots').then(m => ({ default: m.Line })));

// ä½¿ç”¨ Suspense åŒ…è£¹
<Suspense fallback={<Spin />}>
  <Line {...config} />
</Suspense>
```

**æ•ˆæœ**ï¼šé¢„è®¡èŠ‚çœ 1,439.3 KiB

### 2. Vite æ„å»ºé…ç½®ä¼˜åŒ–

**æ–‡ä»¶**ï¼š`vite.config.ts`

#### 2.1 æ‰‹åŠ¨åˆ†åŒ…
- React ç›¸å…³åº“åˆ†ç¦»åˆ° `react-vendor` chunk
- Ant Design åˆ†ç¦»åˆ° `antd-vendor` chunk
- æ›´å¥½çš„ç¼“å­˜ç­–ç•¥

#### 2.2 ä»£ç å‹ç¼©
- ä½¿ç”¨ Terser å‹ç¼©
- ç§»é™¤ console å’Œ debugger
- ç”Ÿäº§ç¯å¢ƒä¼˜åŒ–

#### 2.3 Tree Shaking
- å¯ç”¨ Tree Shaking
- è‡ªåŠ¨ç§»é™¤æœªä½¿ç”¨çš„ä»£ç 

#### 2.4 ä¾èµ–é¢„æ„å»ºä¼˜åŒ–
- æ’é™¤ `@ant-design/plots`ï¼ŒæŒ‰éœ€åŠ è½½
- ä¼˜åŒ–å¸¸ç”¨ä¾èµ–çš„é¢„æ„å»º

**æ•ˆæœ**ï¼šé¢„è®¡èŠ‚çœ 2,000+ KiB

### 3. è·¯ç”±ä»£ç åˆ†å‰²

**çŠ¶æ€**ï¼šâœ… å·²å®ç°

æ‰€æœ‰è·¯ç”±éƒ½ä½¿ç”¨ `React.lazy`ï¼š
```typescript
const Dashboard = lazy(() => import('@/pages/Dashboard'));
const EventAnalysis = lazy(() => import('@/pages/EventAnalysis'));
// ...
```

**æ•ˆæœ**ï¼šæ¯ä¸ªé¡µé¢ç‹¬ç«‹æ‰“åŒ…ï¼ŒæŒ‰éœ€åŠ è½½

### 4. Ant Design æŒ‰éœ€å¯¼å…¥

**çŠ¶æ€**ï¼šâœ… å·²ä¼˜åŒ–

æ‰€æœ‰æ–‡ä»¶éƒ½ä½¿ç”¨æŒ‰éœ€å¯¼å…¥ï¼š
```typescript
import { Button, Card, Table } from 'antd';
```

**æ•ˆæœ**ï¼šåªæ‰“åŒ…ä½¿ç”¨çš„ç»„ä»¶

## ğŸ“Š é¢„æœŸæ•ˆæœ

### ä¼˜åŒ–å‰
- åˆå§‹ bundleï¼š8,478.1 KiB
- æœªä½¿ç”¨ä»£ç ï¼š4,578.3 KiB
- å›¾è¡¨åº“ï¼šå…¨éƒ¨æ‰“åŒ…

### ä¼˜åŒ–åï¼ˆé¢„æœŸï¼‰
- åˆå§‹ bundleï¼šçº¦ 3,000-4,000 KiBï¼ˆå‡å°‘ 50%+ï¼‰
- æœªä½¿ç”¨ä»£ç ï¼š< 1,000 KiBï¼ˆå‡å°‘ 75%+ï¼‰
- å›¾è¡¨åº“ï¼šæŒ‰éœ€åŠ è½½
- **æ€»èŠ‚çœ**ï¼šçº¦ 4,000+ KiB

## ğŸš€ ä¸‹ä¸€æ­¥æ“ä½œ

### 1. æ„å»ºå¹¶æµ‹è¯•

```bash
# æ„å»ºç”Ÿäº§ç‰ˆæœ¬
npm run build

# é¢„è§ˆæ„å»ºç»“æœ
npm run preview
```

### 2. éªŒè¯ä¼˜åŒ–æ•ˆæœ

1. **ä½¿ç”¨ Chrome DevTools Network é¢æ¿**
   - æŸ¥çœ‹åˆå§‹åŠ è½½çš„ JavaScript æ–‡ä»¶
   - ç¡®è®¤å›¾è¡¨åº“ä¸åœ¨åˆå§‹ bundle ä¸­

2. **è¿è¡Œ Lighthouse æµ‹è¯•**
   - æŸ¥çœ‹ "å‡å°‘æœªä½¿ç”¨çš„ JavaScript" å»ºè®®
   - åº”è¯¥çœ‹åˆ°æ˜¾è‘—æ”¹å–„

3. **ä½¿ç”¨ Bundle Analyzer**ï¼ˆå¯é€‰ï¼‰
   ```bash
   npm install --save-dev rollup-plugin-visualizer
   ```
   ç„¶ååœ¨ `vite.config.ts` ä¸­æ·»åŠ æ’ä»¶æŸ¥çœ‹è¯¦ç»†åˆ†æ

## ğŸ“ æ³¨æ„äº‹é¡¹

1. **å¼€å‘ç¯å¢ƒ**ï¼šå¼€å‘æ¨¡å¼ä¸‹å¯èƒ½ä»ç„¶åŒ…å«æ‰€æœ‰ä»£ç ï¼ˆè¿™æ˜¯æ­£å¸¸çš„ï¼‰
2. **ç”Ÿäº§æ„å»º**ï¼šç¡®ä¿ä½¿ç”¨ `npm run build` æ„å»ºç”Ÿäº§ç‰ˆæœ¬
3. **ç¼“å­˜**ï¼šæµè§ˆå™¨ç¼“å­˜å¯èƒ½å½±å“æµ‹è¯•ç»“æœï¼Œå»ºè®®ä½¿ç”¨æ— ç—•æ¨¡å¼

## âœ¨ æ€»ç»“

é€šè¿‡å›¾è¡¨åº“æ‡’åŠ è½½ã€Vite æ„å»ºä¼˜åŒ–ã€è·¯ç”±ä»£ç åˆ†å‰²ç­‰æªæ–½ï¼Œé¢„è®¡å¯ä»¥ï¼š
- âœ… å‡å°‘ 50%+ çš„åˆå§‹ bundle å¤§å°
- âœ… å‡å°‘ 75%+ çš„æœªä½¿ç”¨ä»£ç 
- âœ… æå‡é¦–å±åŠ è½½é€Ÿåº¦
- âœ… æ”¹å–„ç”¨æˆ·ä½“éªŒ

